(this["webpackJsonptanks-remake"]=this["webpackJsonptanks-remake"]||[]).push([[0],[,,,,function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),o=n(2),u=n.n(o),i=(n(9),n(10),n(3));n(11);function a(e){var t=e.onChange,n=Object(r.useState)("none"),o=Object(i.a)(n,2),u=o[0],a=o[1],s=Object(r.useRef)(!1),l=Object(r.useRef)(null),h=Object(r.useRef)(null),f=Object(r.useRef)({}),d=Object(r.useRef)(null),m=Object(r.useRef)(null),v=function(){d.current.style.top="".concat(h.current.height/2-l.current.height/2,"px"),d.current.style.left="".concat(h.current.width/2-l.current.width/2,"px")},p=function(){s.current=!1,v(),a("none")},w=function(e){if(s.current){var t=function(e){var t=e.clientX,n=e.clientY,r=f.current,c=r.X,o=r.Y;return Math.atan2(n-o,t-c)}(e),n=function(e){var t=e.clientX,n=e.clientY,r=f.current,c=r.X,o=r.Y,u=l.current.width,i=h.current.width,a=Math.sqrt((o-n)*(o-n)+(c-t)*(c-t)),s=(i-u)/2,d=a>s?s:a;return{distance:d,shouldFireEvent:s/2<d}}(e),r=n.distance,c=n.shouldFireEvent;d.current.style.top="".concat(h.current.height/2-l.current.height/2+r*Math.sin(t),"px"),d.current.style.left="".concat(h.current.width/2-l.current.width/2+r*Math.cos(t),"px"),c&&function(e){var t=180*e/Math.PI,n="none";switch(!0){case t>=45&&t<=135:n="down";break;case t>=135&&t<=180||t>=-180&&t<=-135:n="left";break;case t>=-135&&t<=-45:n="up";break;case t>=-45&&t<=0||t>=0&&t<=45:n="right"}u!==n&&a(n)}(t)}};return Object(r.useEffect)((function(){l.current=d.current.getBoundingClientRect(),h.current=m.current.getBoundingClientRect(),f.current.X=h.current.left+h.current.width/2,f.current.Y=h.current.top+h.current.height/2,v(),document.removeEventListener("pointermove",w),document.removeEventListener("pointerup",p),document.addEventListener("pointermove",w),document.addEventListener("pointerup",p)})),Object(r.useEffect)((function(){t(u)}),[u,t]),c.a.createElement("div",{className:"joystick",ref:m},c.a.createElement("div",{className:"joystick__stick",ref:d,onPointerDown:function(){s.current=!0}}))}var s=function(){return c.a.createElement("div",{className:"layout"},c.a.createElement(a,{onChange:console.log}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(c.a.createElement(s,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[4,1,2]]]);
//# sourceMappingURL=main.aea45e59.chunk.js.map